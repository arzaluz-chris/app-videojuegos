<div class="games-container">
  <!-- Header -->
  <div class="games-header">
    <div class="header-content">
      <h1>Catálogo de Videojuegos</h1>
      <p class="subtitle">Descubre los mejores juegos del momento</p>
    </div>
    <a
      *ngIf="isAuthenticated$ | async"
      routerLink="/games/add"
      class="btn btn-primary"
    >
      <span>+ Agregar Juego</span>
    </a>
  </div>

  <!-- Grid de juegos -->
  <div class="games-grid" *ngIf="games$ | async as games">
    <div
      *ngIf="games.length === 0"
      class="empty-state"
    >
      <h2>No hay juegos disponibles</h2>
      <p>¡Sé el primero en agregar un juego!</p>
      <a
        *ngIf="isAuthenticated$ | async"
        routerLink="/games/add"
        class="btn btn-primary"
      >
        Agregar primer juego
      </a>
    </div>

    <div
      *ngFor="let game of games; trackBy: trackByGameId"
      class="game-card"
    >
      <div class="game-image">
        <img
          [src]="game.imageUrl || 'https://via.placeholder.com/400x300?text=No+Image'"
          [alt]="game.title"
          loading="lazy"
        />
      </div>

      <div class="game-content">
        <h3 class="game-title">{{ game.title }}</h3>

        <p class="game-release-date">
          <strong>Fecha de lanzamiento:</strong> {{ game.releaseDate }}
        </p>

        <p class="game-description" *ngIf="game.description">
          {{ game.description }}
        </p>

        <!-- Clasificación (Rating) -->
        <div class="game-rating">
          <strong>Clasificación:</strong>
          <div class="stars">
            <span *ngFor="let star of getRatingStars(game)" class="star" [class.filled]="star === 1">★</span>
            <span class="rating-number">({{ game.rating }}/5)</span>
          </div>
        </div>

        <!-- Footer: botón -->
        <div class="game-footer">
          <button class="btn btn-secondary">
            Agregar al carrito
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
